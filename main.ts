enum SpriteKindLegacy {
    Player,
    Projectile,
    Food,
    Enemy
}
enum ActionKind {
    Walking,
    Idle,
    Jumping,
    spinning
}
namespace SpriteKind {
    export const Coin = SpriteKind.create()
    export const Life = SpriteKind.create()
    export const PowerUp = SpriteKind.create()
    export const Goal = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    character.vy = -145
    pause(1000)
    character.vy = 0
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Coin, function (sprite, otherSprite) {
    for (let coin2 of sprites.allOfKind(SpriteKind.Coin)) {
        if (coin2.overlapsWith(character)) {
            info.changeScoreBy(100)
            coin2.destroy()
            music.baDing.play()
        }
    }
    for (let coin2 of sprites.allOfKind(SpriteKind.Coin)) {
        if (coin2.overlapsWith(character2)) {
            info.changeScoreBy(100)
            coin2.destroy()
            music.baDing.play()
        }
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    normalProjectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . b . b b b b . . . . . 
        . . . b . . b b 1 1 b b . . . . 
        . . . . b b b 1 1 1 1 b . . . . 
        . . b . . . b b 1 1 b b . . . . 
        . . . . . b . b b b b . . . . . 
        . . . . b . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, character, 140, 0)
    pause(500)
    normalProjectile.destroy()
})
function Status_bar2 () {
    statusbar = statusbars.create(50, 4, StatusBarKind.Health)
    poweredUp = 0
    statusbar.setColor(11, 1)
    statusbar.value = 200
    statusbar.setLabel("HP")
    statusbar.setBarBorder(1, 10)
    info.setScore(0)
    statusbar.positionDirection(CollisionDirection.Top)
}
controller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    normalProjectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 8 . 8 8 8 8 . . . . . 
        . . . 8 . . 8 8 1 1 8 8 . . . . 
        . . . . 8 8 8 1 1 1 1 8 . . . . 
        . . 8 . . . 8 8 1 1 8 8 . . . . 
        . . . . . 8 . 8 8 8 8 . . . . . 
        . . . . 8 . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, character2, 140, 0)
    pause(500)
    normalProjectile.destroy()
})
function generateItems () {
    heart = sprites.create(img`
        . . c c . c c . 
        . c 3 3 c 3 3 c 
        . c 3 3 3 1 3 c 
        . c 3 3 3 3 3 c 
        . . c 3 3 3 c . 
        . . . c 3 c . . 
        . . . . c . . . 
        . . . . . . . . 
        `, SpriteKind.Life)
    powerup = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . c c . . . . . . . 
        . . . . . c c d d c c . . . . . 
        . . . . c 1 1 5 5 1 1 c . . . . 
        . . . . . c c 1 1 c c . . . . . 
        . . . . . . c 1 1 c . . . . . . 
        . . . . . . c 1 1 c . . . . . . 
        . . . . . c 1 8 8 1 c . . . . . 
        . . . c c 1 8 8 8 9 1 c c . . . 
        . . c 1 8 8 8 8 8 8 9 9 1 c . . 
        . . c 1 8 8 8 8 8 8 8 9 1 c . . 
        . . c 1 8 8 8 8 8 1 8 9 1 c . . 
        . . c 1 8 8 8 8 9 1 8 9 1 c . . 
        . . c 1 9 9 9 9 1 8 8 9 1 c . . 
        . . . c 1 1 1 1 1 1 1 1 c . . . 
        . . . . c c c c c c c c . . . . 
        `, SpriteKind.PowerUp)
    flag = sprites.create(img`
        ................
        .......111......
        ......1333......
        ......1311......
        ......3111......
        ......3b131.....
        ......b3b311....
        ......313131....
        .....b3131b1....
        .....b333113....
        .....bc31311....
        ....3bc31131....
        ....3bc1111.....
        ....3c31111.....
        ...33c111113....
        ...1b3111111....
        .....3111111....
        .....3113111....
        .....31131113...
        .bbbb31131111bb.
        b11133133111131b
        3113131331131313
        3113111331133313
        3111311331133113
        3111133333333113
        3111113333311113
        b11111111111111b
        3bb1111111111bb3
        1333333333333331
        13333bbbbbb33331
        b33333333333333b
        cbbbbbbbbbbbbbbc
        `, SpriteKind.Goal)
    heart.setPosition(randint(20, 400), randint(50, 60))
    powerup.setPosition(randint(20, 400), randint(50, 60))
    flag.setPosition(790, 130)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.PowerUp, function (sprite, otherSprite) {
    powerup.destroy()
    poweredUp = 1
    music.magicWand.play()
})
function generateCoins () {
    coinNo2 = 25
    coinList2 = []
    for (let index = 0; index < coinNo2; index++) {
        coinList2.push(sprites.create(img`
            . . c c c c . . 
            . c 1 1 1 1 c . 
            c 1 2 2 2 2 d c 
            c 1 2 2 2 2 d c 
            c 1 2 2 2 2 d c 
            c 1 2 2 2 2 d c 
            . c d d d d c . 
            . . c c c c . . 
            `, SpriteKind.Coin))
    }
    for (let coin of sprites.allOfKind(SpriteKind.Coin)) {
        coin.setPosition(randint(20, 800), randint(50, 70))
        coinAnim = animation.createAnimation(ActionKind.spinning, 100)
        animation.attachAnimation(coin, coinAnim)
        coinAnim.addAnimationFrame(img`
            . . . c c c . . 
            . . c 1 1 1 c . 
            . c 1 2 2 2 d c 
            . c 1 2 2 2 d c 
            . c 1 2 2 2 d c 
            . c 1 2 2 2 d c 
            . . c d d d c . 
            . . . c c c . . 
            `)
        coinAnim.addAnimationFrame(img`
            . . . . c c . . 
            . . . c 1 1 c . 
            . . c 1 2 2 d c 
            . . c 1 2 2 d c 
            . . c 1 2 2 d c 
            . . c 1 2 2 d c 
            . . . c d d c . 
            . . . . c c . . 
            `)
        coinAnim.addAnimationFrame(img`
            . . . . c c . . 
            . . . c d d c . 
            . . . c d d c . 
            . . . c d d c . 
            . . . c d d c . 
            . . . c d d c . 
            . . . c d d c . 
            . . . . c c . . 
            `)
        coinAnim.addAnimationFrame(img`
            . . . . c c . . 
            . . . c d d c . 
            . . c d 2 2 1 c 
            . . c d 2 2 1 c 
            . . c d 2 2 1 c 
            . . c d 2 2 1 c 
            . . . c d d c . 
            . . . . c c . . 
            `)
        animation.setAction(coin, ActionKind.spinning)
    }
}
controller.player2.onButtonEvent(ControllerButton.Up, ControllerButtonEvent.Pressed, function () {
    character2.vy = -145
    pause(1000)
    character2.vy = 0
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.over(false)
})
function generateCharacter () {
    character = sprites.create(img`
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . c c c c c c . . . . . 
        . c b b b b b c c . . . . 
        . c b b 1 1 1 1 c . . . . 
        . c 5 5 5 5 5 c . . . . . 
        . c 5 c 5 5 5 c . . . . . 
        c a 5 5 5 5 5 c . . . . . 
        c a b a b b b a . . . . . 
        c 5 b a b b b a . . . . . 
        c b 5 b b b b a . . . . . 
        c a a a a a a c . . . . . 
        . c c c c c c c . . . . . 
        c . . . . . . c . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    character.setPosition(25, 88)
    character.ay = 300
    info.setLife(1)
    character.ay = 300
    controller.moveSprite(character, 100, 0)
    scene.cameraFollowSprite(character)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Life, function (sprite, otherSprite) {
    statusbar.value += 60
    heart.destroy()
    music.powerUp.play()
})
function generateCharacter2 () {
    character2 = sprites.create(img`
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        . . c c c c c c . . . . . 
        . c 9 9 9 9 9 c c . . . . 
        . c 9 9 1 1 1 1 c . . . . 
        . c 5 5 5 5 5 c . . . . . 
        . c 5 c 5 5 5 c . . . . . 
        c 8 5 5 5 5 5 c . . . . . 
        c 8 9 8 9 9 9 8 . . . . . 
        c 5 9 8 9 9 9 8 . . . . . 
        c 9 5 9 9 9 9 8 . . . . . 
        c 8 8 8 8 8 8 c . . . . . 
        . c c c c c c c . . . . . 
        c . . . . . . c . . . . . 
        . . . . . . . . . . . . . 
        . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    character2.setPosition(25, 88)
    character2.ay = 300
    info.setLife(1)
    character2.ay = 300
    controller.player2.moveSprite(character2, 100, 0)
    scene.cameraFollowSprite(character)
}
function generateEnemies () {
    enemyNo = 20
    enemyList = []
    for (let index = 0; index < enemyNo; index++) {
        enemyList.push(sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . c c c c c c . . . . . 
            . . . c c 1 b b b 1 a c c . . . 
            . . c 1 b b b b b b b b a c . . 
            . c b b b 1 b b b 1 b b b a c . 
            . c b b b b b b b b b b 1 a c . 
            c b 1 b b b b b 1 b b b b b a c 
            c b b b b 1 b b b b b b b 1 a c 
            c a a a a a a a a a a a a a a c 
            . c c c c c c c c c c c c c c . 
            . . . . . . c 1 1 c . . . . . . 
            . . . . . . c 1 1 c . . . . . . 
            . . . . . . c 1 1 c . . . . . . 
            . . . . . . c 1 1 c . . . . . . 
            . . . . . . . c c . . . . . . . 
            `, SpriteKind.Enemy))
    }
    for (let poisonousMushroom of sprites.allOfKind(SpriteKind.Enemy)) {
        poisonousMushroom.setPosition(randint(60, 760), randint(50, 60))
        poisonousMushroom.ay = 300
    }
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    for (let poisonousMushroom2 of sprites.allOfKind(SpriteKind.Enemy)) {
        if (poisonousMushroom2.overlapsWith(normalProjectile)) {
            poisonousMushroom2.destroy()
            music.magicWand.play()
            info.changeScoreBy(50)
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    for (let poisonousMushroom3 of sprites.allOfKind(SpriteKind.Enemy)) {
        if (character.overlapsWith(poisonousMushroom3)) {
            statusbar.value += -30
            poisonousMushroom3.destroy()
            music.wawawawaa.play()
        }
    }
    for (let poisonousMushroom3 of sprites.allOfKind(SpriteKind.Enemy)) {
        if (character2.overlapsWith(poisonousMushroom3)) {
            statusbar.value += -30
            poisonousMushroom3.destroy()
            music.wawawawaa.play()
        }
    }
})
let enemyList: Sprite[] = []
let enemyNo = 0
let coinAnim: animation.Animation = null
let coinList2: Sprite[] = []
let coinNo2 = 0
let flag: Sprite = null
let powerup: Sprite = null
let heart: Sprite = null
let poweredUp = 0
let statusbar: StatusBarSprite = null
let normalProjectile: Sprite = null
let character2: Sprite = null
let character: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999991111111119999999999911111111111999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999911111111111999999999111111111111199999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999911111111111999999999111111111111199999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111999999911111111111111119999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111999999111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999911111111111111111111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999111111111111111111111111111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999111111111111111111111111111111111111111111111111111111199999999999999999999999999999999999999999911111111111199999
    9999999999999999999999999999999999999999999999111111111111111111111111111111111111111111111111111111199999999999999999999999999999999999999999111111111111119999
    9999999999999999999999999999999999999999999999111111111111111111111111111111111111111111111111111111111199999999999999999999999999999111111111111111111111119999
    9999999999911111111119999999999999999999999911111111111111111111111cc1cc1111111111111111111111111111111119999999999999999999999999991111111111111111111111119999
    999999999911111111111199999999999999999999991111111111111111111111c11c11c111111111111111111111111111111119999999999999999999999999991111111111111111111111119999
    9999999991111111111111199999999999999999999911111111111111111111111111111111111111111111111111111111111119999999999999999999999999991111111111111111111111111119
    9999999911111111111111111199999999999999999911111111111111111111111111111111111111111111111111111111111199999999999999999999999999111111111111111111111111111111
    9999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111
    9999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111
    9999911111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111
    9999111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111111116
    9999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111111111
    9999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111111111
    9911111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111111111
    9111111111111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111
    9111111111111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9111111111111111111111111111111111111111999999999999999999999999999999999999999cc9cc9999999999999999999999999999999999999999999999999999999999999999999999999999
    911111111111111111111111111111111111111199999999999999999999999999999999999999c99c99c999999999999999999999999999999999999999999999999999999999999999999999999999
    9911111111111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999cc9cc9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999c99c99c999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
scene.setTileMap(img`
    ..................................................
    ..................................................
    ..................................................
    ..................................................
    ................................666...............
    ...66...6666.............6..666..........666......
    6.................666...66..........666...........
    .......................6666..................6....
    ...666666..666666.....66622222222222222222222266..
    8888888888888888888888888bbbbbbbbbbbbbbbbbbbbb8888
    `)
scene.setTile(8, img`
    c c c c c c c c c c c c c c c c 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    a b b b b b b b b b b b b b b b 
    a a b b b b b b a b b b b a a b 
    c c a a c c c c c a b b a c c c 
    f f c c f f f f f f c c f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    `, true)
scene.setTile(11, img`
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    a b b b b b b b b b b b b b b b 
    a a b b b b b b a b b b b a a b 
    c c a a c c c c c a b b a c c c 
    f f c c f f f f f f c c f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    `, true)
scene.setTile(2, img`
    c c c c c c c c c c c c c c c c 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    a b b b b b b b b b b b b b b b 
    a a b b b b b b a b b b b a a b 
    c c a a c c c c c a b b a c c c 
    b b c c b b b b b b c c b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    b b b b b b b b b b b b b b b b 
    `, true)
scene.setTile(6, img`
    c c c c c c c c c c c c c c c c 
    c 8 8 8 8 8 c 8 8 8 8 8 8 8 8 c 
    c 8 8 8 8 8 c 8 8 8 8 8 8 8 8 c 
    c c c c c c c c c c c c c c c c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c c c c c c c c c c c c c c c c 
    c 8 8 8 8 8 c 8 8 8 8 8 8 8 8 c 
    c 8 8 8 8 8 c 8 8 8 8 8 8 8 8 c 
    c 8 8 8 8 8 c 8 8 8 8 8 8 8 8 c 
    c c c c c c c c c c c c c c c c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c 8 8 8 c 8 8 8 8 8 c 8 8 8 8 c 
    c c c c c c c c c c c c c c c c 
    `, true)
generateCharacter()
generateCoins()
generateEnemies()
generateItems()
Status_bar2()
generateCharacter2()
game.onUpdateInterval(500, function () {
    if (character.overlapsWith(flag)) {
        game.over(true)
    }
})
